# Traefik routing for media stack services
#
# REMOTE ACCESS (via Cloudflare Tunnel):
# - Jellyfin, Jellyseerr, WireGuard - user-facing services
#
# LOCAL-ONLY (access via NAS_IP:PORT or WireGuard VPN):
# - Sonarr, Radarr, Prowlarr, qBittorrent, Bazarr, Pi-hole
# - These have weak default auth ("Disabled for Local" / "Bypass localhost")
# - Use Jellyseerr for remote media requests instead

http:
  routers:
    jellyfin:
      rule: "Host(`jellyfin.yourdomain.com`)"
      entryPoints:
        - web
      service: jellyfin

    jellyseerr:
      rule: "Host(`jellyseerr.yourdomain.com`)"
      entryPoints:
        - web
      service: jellyseerr

    wg:
      rule: "Host(`wg.yourdomain.com`)"
      entryPoints:
        - web
      service: wg

  services:
    jellyfin:
      loadBalancer:
        servers:
          - url: "http://192.168.100.4:8096"

    jellyseerr:
      loadBalancer:
        servers:
          - url: "http://192.168.100.8:5055"

    wg:
      loadBalancer:
        servers:
          - url: "http://192.168.100.6:51821"
